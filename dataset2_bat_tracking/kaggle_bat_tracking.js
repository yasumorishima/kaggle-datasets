// Kaggle Column Description Auto-Filler
(function() {
    const columns = {
  "id": "MLBAM player ID - Unique identifier for each player in MLB's official database",
  "name": "Player's full name (Last, First format)",
  "swings_competitive": "Total number of competitive swings tracked by Statcast (excludes non-competitive swings)",
  "percent_swings_competitive": "Percentage of all swings classified as competitive (0-100 scale)",
  "contact": "Total number of times the bat made contact with the ball",
  "avg_bat_speed": "Average bat speed at contact in miles per hour (mph)",
  "hard_swing_rate": "Percentage of swings with bat speed above a threshold classified as \"hard\" (0-100 scale)",
  "squared_up_per_bat_contact": "Rate of squared-up contact (optimal bat-to-ball collision) per bat contact event (0-1 scale)",
  "squared_up_per_swing": "Rate of squared-up contact per swing attempt (0-1 scale)",
  "blast_per_bat_contact": "Rate of \"blast\" contact (highest quality contact with ideal bat speed and angle) per bat contact event (0-1 scale)",
  "blast_per_swing": "Rate of \"blast\" contact per swing attempt (0-1 scale)",
  "swing_length": "Average length of the bat's path to contact in feet - Shorter swing length generally indicates more efficient bat path",
  "swords": "Number of \"swords\" (swings and misses on pitches in the strike zone that result in a strikeout)",
  "batter_run_value": "Total run value generated by the batter's swing decisions and contact quality (positive = above average, negative = below average)",
  "whiffs": "Total number of swings that missed the ball completely (swinging strikes)",
  "whiff_per_swing": "Whiff rate - Percentage of swings that resulted in a miss (0-1 scale)",
  "batted_ball_events": "Total number of batted ball events (balls put into play)",
  "batted_ball_event_per_swing": "Rate of batted ball events per swing attempt (0-1 scale)",
  "season": "MLB season year (2024 or 2025)"
};
    let updated = 0, skipped = 0, failed = 0;
    const headers = document.querySelectorAll('span[title]');
    console.log('Found ' + headers.length + ' columns');

    headers.forEach((header) => {
        const name = header.getAttribute('title');
        if (!columns[name]) { skipped++; return; }
        try {
            const th = header.closest('th');
            const input = th.querySelector('input[placeholder="Please enter a description"]');
            const setter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;
            setter.call(input, columns[name]);
            input.dispatchEvent(new Event('input', {bubbles: true}));
            input.dispatchEvent(new Event('change', {bubbles: true}));
            input.dispatchEvent(new Event('blur', {bubbles: true}));
            console.log('[OK] ' + name);
            updated++;
        } catch(e) {
            console.error('[ERROR] ' + name + ': ' + e.message);
            failed++;
        }
    });

    console.log('\n=== SUMMARY ===');
    console.log('Updated: ' + updated);
    console.log('Skipped: ' + skipped);
    console.log('Failed: ' + failed);
    console.log('\n[IMPORTANT] Please review and click SAVE!');
})();

